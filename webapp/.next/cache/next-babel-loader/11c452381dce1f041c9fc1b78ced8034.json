{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/localuser/Devpost/spring_payments_marqeta/webapp/components/Dashboard.js\";\nvar __jsx = React.createElement;\nimport React, { setState } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { getUserInformation } from '../services/api';\nimport Navbar from './Navbar';\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"logOut\", () => {\n      localStorage.removeItem('token');\n      Router.push('/');\n      return;\n    });\n\n    _defineProperty(this, \"fetchUserData\", async () => {\n      const resp = await getUserInformation();\n\n      if (resp) {\n        if (resp.status === 200) {\n          return resp.data.user;\n        } else if (resp.status === 500) {\n          return;\n        } else if (resp.status === 401) {\n          return;\n        }\n\n        ;\n      }\n    });\n\n    _defineProperty(this, \"componentDidMount\", async () => {\n      window.document.title = \"My Account | Meta Travel\";\n      /*     try {\n               const userData = await this.fetchUserData();\n               this.setState({\n                   user: {\n                       email: userData.email,\n                       id: userData.id,\n                       nickname: userData.nickname,\n                       username: userData.username,\n                       pfp_url: userData.profile_photo_url\n                   }\n           })\n           } catch (err)  {\n               console.log(\"err\")\n           } */\n    });\n\n    this.state = {\n      user: {}\n    };\n    this.logOut = this.logOut.bind(this);\n    this.fetchUserData = this.fetchUserData.bind(this);\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, __jsx(Navbar, {\n      logout: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }), __jsx(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"M E T A _ IDentity Services Platform\"), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, this.state.user.nickname ? this.state.user.nickname : \"\", \"!\"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, this.state.user.email ? this.state.user.email : \"\")), \"You are logged in. This will be your dashboard.\");\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/localuser/Devpost/spring_payments_marqeta/webapp/components/Dashboard.js"],"names":["React","setState","Link","Router","getUserInformation","Navbar","Dashboard","Component","constructor","props","localStorage","removeItem","push","resp","status","data","user","window","document","title","state","logOut","bind","fetchUserData","render","nickname","email"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAAQC,kBAAR,QAAiC,iBAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,SAAN,SAAwBN,KAAK,CAACO,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,oCAUV,MAAM;AACXC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAR,MAAAA,MAAM,CAACS,IAAP,CAAY,GAAZ;AACA;AACH,KAdkB;;AAAA,2CAgBH,YAAY;AACxB,YAAMC,IAAI,GAAG,MAAMT,kBAAkB,EAArC;;AACA,UAAIS,IAAJ,EAAU;AACN,YAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACrB,iBAAOD,IAAI,CAACE,IAAL,CAAUC,IAAjB;AACH,SAFD,MAEO,IAAIH,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AAC5B;AACH,SAFM,MAEA,IAAID,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AAC5B;AACH;;AAAA;AACJ;AACJ,KA3BkB;;AAAA,+CA6BC,YAAY;AAC5BG,MAAAA,MAAM,CAACC,QAAP,CAAgBC,KAAhB,GAAwB,0BAAxB;AAEL;;;;;;;;;;;;;;AAcE,KA9CkB;;AAGf,SAAKC,KAAL,GAAa;AACTJ,MAAAA,IAAI,EAAE;AADG,KAAb;AAGA,SAAKK,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACH;;AAyCDE,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,KAAKH,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKD,KAAL,CAAWJ,IAAX,CAAgBS,QAAhB,GAA2B,KAAKL,KAAL,CAAWJ,IAAX,CAAgBS,QAA3C,GAAsD,EAA3D,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKL,KAAL,CAAWJ,IAAX,CAAgBU,KAAhB,GAAwB,KAAKN,KAAL,CAAWJ,IAAX,CAAgBU,KAAxC,GAAgD,EAAvD,CAFJ,CAHJ,oDADJ;AAWH;;AA9DmC;;AAiExC,eAAepB,SAAf","sourcesContent":["import React, {setState} from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport {getUserInformation} from '../services/api';\nimport Navbar from './Navbar';\n\nclass Dashboard extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            user: {}\n        };\n        this.logOut = this.logOut.bind(this);\n        this.fetchUserData = this.fetchUserData.bind(this);\n    };\n\n    logOut = () => {\n        localStorage.removeItem('token');\n        Router.push('/')\n        return;\n    };\n\n    fetchUserData = async () => {\n        const resp = await getUserInformation();\n        if (resp) {\n            if (resp.status === 200) {\n                return resp.data.user; \n            } else if (resp.status === 500) {\n                return;\n            } else if (resp.status === 401) {\n                return;\n            };\n        }\n    };\n\n    componentDidMount = async () => {\n        window.document.title = \"My Account | Meta Travel\"\n    \n   /*     try {\n            const userData = await this.fetchUserData();\n            this.setState({\n                user: {\n                    email: userData.email,\n                    id: userData.id,\n                    nickname: userData.nickname,\n                    username: userData.username,\n                    pfp_url: userData.profile_photo_url\n                }\n        })\n        } catch (err)  {\n            console.log(\"err\")\n        } */\n    };\n\n\n    render() {\n        return (\n            <div>\n                <Navbar logout={this.logOut} /> \n                <h4>M E T A _ IDentity Services Platform</h4>\n                <div>\n                    <h3>{this.state.user.nickname ? this.state.user.nickname : \"\"}!</h3>\n                    <span>{this.state.user.email ? this.state.user.email : \"\"}</span>\n                </div>\n                You are logged in. This will be your dashboard.\n            </div> \n        )\n    }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}